{% extends "SpartakUserBundle::layout.html.twig" %}

{% block title %}{{ 'layout.register'|trans }}{{ parent() }}{% endblock %}

{% trans_default_domain 'FOSUserBundle' %}

{% block fos_user_content %}
<div class="col-md-4 col-md-offset-4">
    <div class="panel panel-default">
        <div class="panel-body">
            <h5 class="text-center">{{ 'layout.register'|trans }}</h5>
            <div>
                {{ form_errors(form) }}
                {{ form_errors(form.email) }}
                {{ form_errors(form.username) }}
                {{ form_errors(form.plainPassword.first) }}
            </div>
            <form role="form" class="form form-signup" action="{{ path('fos_user_registration_register') }}" {{ form_enctype(form) }} method="POST">
                <div class="form-group">
                    <div class="input-group">
                        <span class="input-group-addon"><i class="fa fa-user"></i></span>
                        <input type="text" class="form-control" name="fos_user_registration_form[username]" required maxlength="255" pattern=".{2,}" placeholder="{{ 'form.username'|trans }}" />
                    </div>
                </div>
                <div class="form-group">
                    <div class="input-group">
                        <span class="input-group-addon"><i class="fa fa-envelope"></i></span>
                        <input type="text" class="form-control" name="fos_user_registration_form[email]" required placeholder="{{ 'form.email'|trans }}" />
                    </div>
                </div>
                <div class="form-group">
                    <div class="input-group">
                        <span class="input-group-addon"><i class="fa fa-lock"></i></span>
                        <input type="password" class="form-control" name="fos_user_registration_form[plainPassword][first]" required placeholder="{{ 'form.password'|trans }}" />
                    </div>
                </div>
                <div class="form-group">
                    <div class="input-group">
                        <span class="input-group-addon"><i class="fa fa-lock"></i></span>
                        <input type="password" class="form-control" name="fos_user_registration_form[plainPassword][second]" required placeholder="{{ 'form.password_confirmation'|trans }}" />
                    </div>
                </div>

                {# {{ form_errors(form) }}

                {{ form_label(form.username) }}

                {{ form_label(form.email) }}
                {{ form_widget(form.email) }}
                {{ form_errors(form.email) }}

                {{ form_label(form.plainPassword.first) }}
                {{ form_widget(form.plainPassword.first) }}
                {{ form_errors(form.plainPassword.first) }}

                {{ form_label(form.plainPassword.second) }}
                {{ form_widget(form.plainPassword.second) }}
 
                {{ form_end(form) }} #}
                
                <input type="hidden" name="fos_user_registration_form[_token]" value="{{ csrf_token("registration") }}" />

                <button class="btn btn-sm btn-primary btn-block" type="submit">{{ 'registration.submit'|trans }}</button>
            </form>

            {# <form action="{{ path('fos_user_registration_register') }}" {{ form_enctype(form) }} method="POST" class="fos_user_registration_register">
                {{ form_widget(form) }}
                <div>
                    <input type="submit" value="{{ 'registration.submit'|trans }}" />
                </div>
            </form> #}

        </div>
    </div>
</div>
{% endblock fos_user_content %}